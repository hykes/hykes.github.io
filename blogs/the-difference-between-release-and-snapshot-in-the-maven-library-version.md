# Maven中RELEASE和SNAPSHOT的区别

我们在项目开发过程中，经常会依赖一些基础jar包。但是这些jar包可能处于不稳定的状态，随时需要修改并发布。而且可能一天就要发布一次，遇到bug时，甚至一天要发布N次。

我们知道maven的依赖管理是基于版本管理的，对于发布状态的artifact，如果版本号相同，即使远程仓库中的jar包比本地新，maven也不会主动下载的。如果我们在开发阶段都是基于正式发布版(RELEASE)本来做依赖管理，如果想要更新组件，就需要升级组件的版本号，显然这样会给开发带来额外的负担。但是，如果是基于快照版本，问题就自热而然的解决了，因为maven已经为我们准备好了这一切。

maven中的仓库分为两种，snapshot快照仓库和release发布仓库。snapshot快照仓库用于保存开发过程中的不稳定版本，release正式仓库则是用来保存稳定的发行版本。

maven2会根据模块的版本号(pom文件中的version)中是否带有-SNAPSHOT来判断是快照版本还是正式版本。定义一个jar为快照版本，只需要在pom文件中在该模块的版本号后加上-SNAPSHOT即可(注意这里必须是大写)，如下：

```xml
<groupId>com.github.hykes</groupId>
<artifactId>demo</artifactId>
<version>1.0-SNAPSHOT</version>
<packaging>jar</packaging>
```

如果是快照版本，那么在mvn deploy时会自动发布到快照版本库中，之前的快照版本也会保留成为历史版本。而使用快照版本的模块，在不更改版本号的情况下，编译打包时maven会自动从镜像服务器上下载最新的快照版本。

如果是正式发布版本，那么在mvn deploy时会自动发布到正式版本库中，而使用正式版本的模块，在不更改版本号的情况下，编译打包时如果本地已经存在该版本的模块则不会主动去镜像服务器上下载。

所以，我们在开发阶段，可以将公用库的版本设置为快照版本，而被依赖组件则引用快照版本进行开发，在公用库的快照版本更新后，我们也不需要修改pom文件提示版本号来下载新的版本，直接mvn执行相关编译、打包命令即可重新下载最新的快照库了，从而也方便我们进行开发。

!> 本文基于 [知识共享署名-相同方式共享 4.0](https://creativecommons.org/licenses/by-sa/4.0/deed.zh) 国际许可协议发布，欢迎转载，演绎或用于商业目的，但是必须保留本文的署名及链接。

